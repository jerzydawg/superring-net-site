---
import Layout from '../layouts/Layout.astro';
import EligibilityHero from '../components/EligibilityHero.astro';
import { getSiteURL, getSiteName, getDomain, getKeywordId } from '../lib/site-config';
import { loadKeywordVariations } from '../lib/variations';

const SITE_URL = getSiteURL();
const SITE_NAME = getSiteName();
const domain = getDomain();
const keywordId = getKeywordId();

// Load keyword-specific variations
const keywordModule = await loadKeywordVariations(keywordId);
const { getH1Variation, getMetaVariations } = keywordModule;

// Dynamic SEO Meta Tags using keyword variations
const metaContent = getMetaVariations(SITE_NAME, domain, 'eligibility');
const title = metaContent.title;
const description = metaContent.description;
const canonical = `${SITE_URL}/eligibility`;

// Dynamic H1 using keyword variations
const h1Text = getH1Variation(domain, 'eligibility');
---

<Layout title={title} description={description} canonical={canonical}>
  <main class="min-h-screen">
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-green-600 via-blue-600 to-purple-700 text-white py-20">
      <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-6xl font-bold mb-6">
          {h1Text}
        </h1>
        <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">
          Find out if you qualify for federal communication assistance programs in just 60 seconds. 
          No personal information required for this quick check.
        </p>
        <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-6 max-w-2xl mx-auto">
          <p class="text-lg mb-4">Quick Eligibility Check</p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
            <div class="flex items-center">
              <span class="text-green-400 mr-2">‚úì</span>
              <span>Income-based qualification</span>
            </div>
            <div class="flex items-center">
              <span class="text-green-400 mr-2">‚úì</span>
              <span>Government program participation</span>
            </div>
            <div class="flex items-center">
              <span class="text-green-400 mr-2">‚úì</span>
              <span>No credit check required</span>
            </div>
            <div class="flex items-center">
              <span class="text-green-400 mr-2">‚úì</span>
              <span>Available nationwide</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Eligibility Checker Component -->
    <EligibilityHero />

    <!-- Qualification Methods -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          How to Qualify for Free Government Phone
        </h2>
        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <!-- Income-Based Qualification -->
          <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-blue-600 text-4xl mb-4">üí∞</div>
            <h3 class="text-2xl font-bold mb-4">Income-Based Qualification</h3>
            <p class="text-gray-600 mb-6">
              Your household income must be at or below 135% of the Federal Poverty Guidelines.
            </p>
            <div class="bg-blue-50 rounded-lg p-4 mb-6">
              <h4 class="font-semibold mb-2">2024 Income Limits:</h4>
              <ul class="text-sm space-y-1">
                <li>‚Ä¢ 1 person: $19,683 per year</li>
                <li>‚Ä¢ 2 people: $26,622 per year</li>
                <li>‚Ä¢ 3 people: $33,561 per year</li>
                <li>‚Ä¢ 4 people: $40,500 per year</li>
                <li>‚Ä¢ Each additional person: +$6,939</li>
              </ul>
            </div>
            <p class="text-sm text-gray-500">
              *Income limits are updated annually and may vary by state
            </p>
          </div>

          <!-- Program Participation -->
          <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-green-600 text-4xl mb-4">üèõÔ∏è</div>
            <h3 class="text-2xl font-bold mb-4">Government Program Participation</h3>
            <p class="text-gray-600 mb-6">
              You automatically qualify if you or someone in your household participates in:
            </p>
            <div class="space-y-3">
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>Medicaid</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>SNAP (Food Stamps)</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>Supplemental Security Income (SSI)</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>Federal Public Housing Assistance</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>Veterans Pension & Survivors Benefit</span>
              </div>
              <div class="flex items-center">
                <span class="text-green-500 mr-3">‚úì</span>
                <span>Tribal Programs (TTANF, FDPIR, BIA)</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Enhanced Benefits -->
    <section class="py-16">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Enhanced Benefits for Tribal Communities
        </h2>
        <div class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white rounded-lg p-8 max-w-4xl mx-auto">
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-2xl font-bold mb-4">Tribal Lifeline Benefits</h3>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <span class="text-yellow-400 mr-3 mt-1">‚òÖ</span>
                  <span>Enhanced monthly discount: $34.25 (vs $9.25 standard)</span>
                </li>
                <li class="flex items-start">
                  <span class="text-yellow-400 mr-3 mt-1">‚òÖ</span>
                  <span>Available on tribal lands</span>
                </li>
                <li class="flex items-start">
                  <span class="text-yellow-400 mr-3 mt-1">‚òÖ</span>
                  <span>Can be combined with ACP benefits</span>
                </li>
              </ul>
            </div>
            <div>
              <h3 class="text-2xl font-bold mb-4">Qualifying Tribal Programs</h3>
              <ul class="space-y-2 text-sm">
                <li>‚Ä¢ Tribal TANF (Temporary Assistance for Needy Families)</li>
                <li>‚Ä¢ Food Distribution Program on Indian Reservations (FDPIR)</li>
                <li>‚Ä¢ Bureau of Indian Affairs General Assistance</li>
                <li>‚Ä¢ Tribal Head Start (income-based)</li>
                <li>‚Ä¢ Tribal National School Lunch Program</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Application Process -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Simple Application Process
        </h2>
        <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
          <div class="text-center">
            <div class="bg-blue-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">
              1
            </div>
            <h3 class="text-xl font-bold mb-3">Check Eligibility</h3>
            <p class="text-gray-600">
              Use our quick eligibility checker to see if you qualify for free phone service.
            </p>
          </div>
          <div class="text-center">
            <div class="bg-green-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">
              2
            </div>
            <h3 class="text-xl font-bold mb-3">Choose Provider</h3>
            <p class="text-gray-600">
              Select from top providers with the best coverage and service in your area.
            </p>
          </div>
          <div class="text-center">
            <div class="bg-purple-600 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">
              3
            </div>
            <h3 class="text-xl font-bold mb-3">Get Your Phone</h3>
            <p class="text-gray-600">
              Receive your free smartphone and start enjoying unlimited service.
            </p>
          </div>
        </div>
        <div class="text-center mt-12">
          <a href="/apply" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300">
            Start Your Application
          </a>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-16">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Common Eligibility Questions
        </h2>
        <div class="max-w-3xl mx-auto space-y-6">
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-lg font-bold mb-3">Can I qualify if I'm already receiving other government benefits?</h3>
            <p class="text-gray-600">
              Yes! If you participate in programs like Medicaid, SNAP, or SSI, you automatically qualify for free phone service.
            </p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-lg font-bold mb-3">What documents do I need to prove eligibility?</h3>
            <p class="text-gray-600">
              You'll need proof of income (pay stubs, tax returns) or documentation showing participation in qualifying government programs.
            </p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-lg font-bold mb-3">Can I qualify if I live in a household with other people?</h3>
            <p class="text-gray-600">
              Yes, but the income limits apply to your entire household. All household members' income is counted together.
            </p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-lg font-bold mb-3">How often do I need to recertify my eligibility?</h3>
            <p class="text-gray-600">
              You must recertify your eligibility annually to continue receiving free phone service benefits.
            </p>
          </div>
        </div>
        <div class="text-center mt-12">
          <a href="/faq" class="text-blue-600 font-semibold hover:text-blue-800">
            View All Frequently Asked Questions ‚Üí
          </a>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="bg-blue-600 text-white py-16">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">
          Ready to Check Your Eligibility?
        </h2>
        <p class="text-xl mb-8 max-w-2xl mx-auto">
          Take our quick eligibility checker to see if you qualify for free government phone service. 
          It only takes 60 seconds and requires no personal information.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/apply" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 inline-block text-center no-underline">
            Check Eligibility Now
          </a>
          <a href="/programs" class="bg-transparent border-2 border-white hover:bg-white hover:text-blue-600 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 inline-block text-center no-underline">
            Learn About Programs
          </a>
        </div>
      </div>
    </section>

    <!-- Related Resources -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
          Related Resources
        </h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
          <a href="/programs" class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition duration-300">
            <div class="text-blue-600 text-3xl mb-3" aria-label="Document icon">üìã</div>
            <h3 class="font-bold mb-2 text-blue-600">All Programs</h3>
            <p class="text-sm text-gray-600">Compare Lifeline, ACP, and other government assistance programs.</p>
          </a>
          <a href="/lifeline-program" class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition duration-300">
            <div class="text-green-600 text-3xl mb-3" aria-label="Phone icon">üì±</div>
            <h3 class="font-bold mb-2 text-green-600">Lifeline Program</h3>
            <p class="text-sm text-gray-600">Learn about the federal Lifeline program and its benefits.</p>
          </a>
          <a href="/acp-program" class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition duration-300">
            <div class="text-purple-600 text-3xl mb-3" aria-label="Computer icon">üíª</div>
            <h3 class="font-bold mb-2 text-purple-600">ACP Program</h3>
            <p class="text-sm text-gray-600">Discover the Affordable Connectivity Program benefits.</p>
          </a>
          <a href="/providers" class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition duration-300">
            <div class="text-orange-600 text-3xl mb-3" aria-label="Building icon">üè¢</div>
            <h3 class="font-bold mb-2 text-orange-600">Providers</h3>
            <p class="text-sm text-gray-600">Find approved providers offering free government phone service.</p>
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout> 